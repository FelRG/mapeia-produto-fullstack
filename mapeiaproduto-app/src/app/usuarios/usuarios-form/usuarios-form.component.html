<br>
<ol class="breadcrumb mb-4">
  <li class="breadcrumb-item active">
    <ng-container *ngIf="!isAdmin || IdContaAtualNaEdicao; else adminGerenciar">
      Alterar Dados Pessoais
    </ng-container>
    <ng-template #adminGerenciar>
      <a routerLink="/usuarios">Gerenciar Usuários</a> &gt;
      {{ usuario.id ? 'Editar' : 'Cadastrar' }} Usuário
    </ng-template>
  </li>
</ol>


<!-- <br>
<ol class="breadcrumb mb-4">
  <li class="breadcrumb-item active">
    <div *ngIf="isAdmin">
      <a routerLink="/usuarios">Gerenciar Usuários</a> &gt; {{ usuario.id ? 'Editar' : 'Cadastrar' }} Usuário
    </div>
    <div *ngIf="!isAdmin">Alterar Dados Pessoais</div>
    <div *ngIf="IdContaAtualNaEdicao">Alterar Dados Pessoais</div>
  </li>
</ol> -->

<!-- <ol class="breadcrumb mb-4">
  <li class="breadcrumb-item active">
    <a *ngIf="isAdmin" routerLink="/usuarios">Gerenciar Usuários</a>
    <span *ngIf="isAdmin"> &gt; </span>
    {{ usuario.id ? 'Editar' : 'Cadastrar' }} Usuário
  </li>
</ol> -->


<div class="container pb-4">
  <form #usuarioForm="ngForm" (ngSubmit)="onSubmit()">

    <div class="row">
      <div class="col-md-12">
        <div class="alert alert-success" role="alert" *ngIf="sucess == true">
          Usuario salvo/atualizado com sucesso!
        </div>
        <!-- <div class="alert alert-danger" role="alert" *ngFor="let erro of errors"></div> -->
        <!-- {{ erro }}
        </div> -->
      </div>
    </div>

    <!-- ID -->
    <!-- <div class="mb-3" *ngIf="usuario.id">
      <label for="id" class="form-label">ID</label>
      <input
        type="text"
        id="id"
        class="form-control rounded-pill border border-dark"
        name="id"
        [ngModel]="usuario.id"
        disabled
      />
    </div> -->
    <!-- Data de Cadastro -->
    <!-- <div class="mb-3" *ngIf="usuario.datacadastro">
      <label for="datacadastro" class="form-label">Data de Cadastro</label>
      <input
        type="text"
        id="datacadastro"
        class="form-control rounded-pill border border-dark"
        name="datacadastro"
        [ngModel]="usuario.datacadastro"
        disabled
      />
    </div> -->

    <!-- Nome -->
    <div class="mb-3">
      <label for="nome" class="form-label">Nome</label>
      <input type="text" id="nome" class="form-control rounded-pill border border-dark"
        placeholder="Digite o seu nome. Ex: João da Silva" [(ngModel)]="usuario.nomeUsuario" name="nomeUsuario" />
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" id="email" class="form-control rounded-pill border border-dark"
        placeholder="Digite o seu email. Ex: example@gmail.com" [(ngModel)]="usuario.email" name="email" />
    </div>

    <!-- Telefone -->
    <div class="mb-3">
      <label for="telefone" class="form-label">Telefone</label>
      <input type="tel" id="telefone" class="form-control rounded-pill border border-dark"
        placeholder="Digite o seu número de telefone. Ex: (55) 98888-8888" [(ngModel)]="usuario.telefone"
        name="telefone" />
    </div>

    <!-- Tipo de conta -->
    <div class="mb-3" *ngIf="isAdmin && !IdContaAtualNaEdicao">
      <label class="form-label d-block mb-2">Tipo de conta</label>
      <div class="form-check form-check-inline">
        <input class="form-check-input radio-destacado" type="radio" name="tipoPermissao" id="admin" value="Admin"
          [(ngModel)]="usuario.tipoPermissao" />
        <label class="form-check-label" for="admin">Admin</label>
      </div>

      <div class="form-check form-check-inline">
        <input class="form-check-input radio-destacado" type="radio" name="tipoPermissao" id="produtor" value="Produtor"
          [(ngModel)]="usuario.tipoPermissao" />
        <label class="form-check-label" for="produtor">Produtor</label>
      </div>

      <div class="form-check form-check-inline">
        <input class="form-check-input radio-destacado" type="radio" name="tipoPermissao" id="consumidor"
          value="Consumidor" [(ngModel)]="usuario.tipoPermissao" />
        <label class="form-check-label" for="consumidor">Consumidor</label>
      </div>
    </div>

    <!-- Acesso liberado -->
    <div class="mb-3" *ngIf="isAdmin && !IdContaAtualNaEdicao">
      <label class="form-label d-block mb-2">Acesso liberado</label>

      <div class="form-check form-check-inline">
        <input class="form-check-input radio-destacado" type="radio" name="ativo" id="nao" value="N"
          [(ngModel)]="usuario.ativo" />
        <label class="form-check-label" for="nao">Não</label>
      </div>

      <div class="form-check form-check-inline">
        <input class="form-check-input radio-destacado" type="radio" name="ativo" id="sim" value="S"
          [(ngModel)]="usuario.ativo" />
        <label class="form-check-label" for="sim">Sim</label>
      </div>
    </div>

    <!-- Senha -->
    <!-- <div class="mb-3 position-relative">
      <label for="senha" class="form-label">Senha</label>
      <div class="input-group">
        <input
          type="password"
          id="senha"
          class="form-control rounded-pill border border-dark"
          placeholder="Digite a sua senha"
          [(ngModel)]="usuario.senha"
          name="senha"
        />
        <span
          class="input-group-text bg-white border-0 position-absolute end-0 top-0 mt-2 me-2"
        >
        </span>
      </div>
    </div> -->

    <!-- Botões -->
    <div class="d-flex justify-content-between">
      <button type="button" class="btn btn-danger px-4 rounded-pill" (click)="voltarParaListagem()">
        Cancelar
      </button>
      <button type="submit" class="btn btn-success px-4 rounded-pill" *ngIf="!usuario.id">
        Cadastrar Usuário
      </button>
      <button type="submit" class="btn btn-success px-4 rounded-pill" *ngIf="usuario.id">
        Atualizar Dados
      </button>
    </div>
  </form>
</div>